{"ast":null,"code":"import _regeneratorRuntime from\"C:/Git-repo/React/react-project-1/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Git-repo/React/react-project-1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Git-repo/React/react-project-1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import Movie from\"../components/Movie\";import{jsx as _jsx}from\"react/jsx-runtime\";function Home(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),movies=_useState4[0],setMovies=_useState4[1];var getMoives=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://yts.mx/api/v2/list_movies.json?minimum_rating=8.5&sort_by=year\");case 2:_context.next=4;return _context.sent.json();case 4:json=_context.sent;setMovies(json.data.movies);setLoading(false);case 7:case\"end\":return _context.stop();}},_callee);}));return function getMoives(){return _ref.apply(this,arguments);};}();// 요즘은 then 보다는 async-await 을 더 많이 사용함\n// useEffect(() => {\n//   fetch(\n//     `https://yts.mx/api/v2/list_movies.json?minimum_rating=8.5&sort_by=year`\n//   )\n//     .then((response) => response.json())\n//     .then((json) => {\n//       setMovies(json.data.movies);\n//       setLoading(false);\n//     });\n// }, []);\nuseEffect(function(){getMoives();},[]);//   console.log(movies);\nreturn/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(\"h1\",{children:\"Loading...\"}):/*#__PURE__*/_jsx(\"div\",{children:movies.map(function(movie){return/*#__PURE__*/_jsx(Movie,{id:movie.id,coverImg:movie.medium_cover_image,title:movie.title,summary:movie.summary,genres:movie.genres},movie.id);})})});}export default Home;// <div>\n//   {loading ? (\n//     <h1>Loading...</h1>\n//   ) : (\n//     <div>\n//       {movies.map((movie) => (\n//         <div key={movie.id}>\n//           <img src={movie.medium_cover_image} />\n//           <h2>{movie.title}</h2>\n//           <p>{movie.summary}</p>\n//           <ul>\n//             <li>\n//               {movie.genres.map((g) => (\n//                 <li key={g}>{g}</li>\n//               ))}\n//             </li>\n//           </ul>\n//         </div>\n//       ))}\n//     </div>\n//   )}\n// </div>","map":{"version":3,"names":["useState","useEffect","Movie","jsx","_jsx","Home","_useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","movies","setMovies","getMoives","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","json","wrap","_callee$","_context","prev","next","fetch","sent","data","stop","apply","arguments","children","map","movie","id","coverImg","medium_cover_image","title","summary","genres"],"sources":["C:/Git-repo/React/react-project-1/src/routes/Home.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport Movie from \"../components/Movie\";\r\n\r\nfunction Home() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [movies, setMovies] = useState([]);\r\n  const getMoives = async () => {\r\n    // 1.\r\n    // const response = await fetch(\r\n    //   `https://yts.mx/api/v2/list_movies.json?minimum_rating=8.5&sort_by=year`\r\n    // );\r\n    // const json = await response.json();\r\n    // 2.\r\n    const json = await (\r\n      await fetch(\r\n        `https://yts.mx/api/v2/list_movies.json?minimum_rating=8.5&sort_by=year`\r\n      )\r\n    ).json();\r\n    setMovies(json.data.movies);\r\n    setLoading(false);\r\n  };\r\n  // 요즘은 then 보다는 async-await 을 더 많이 사용함\r\n  // useEffect(() => {\r\n  //   fetch(\r\n  //     `https://yts.mx/api/v2/list_movies.json?minimum_rating=8.5&sort_by=year`\r\n  //   )\r\n  //     .then((response) => response.json())\r\n  //     .then((json) => {\r\n  //       setMovies(json.data.movies);\r\n  //       setLoading(false);\r\n  //     });\r\n  // }, []);\r\n  useEffect(() => {\r\n    getMoives();\r\n  }, []);\r\n  //   console.log(movies);\r\n  return (\r\n    <div>\r\n      {loading ? (\r\n        <h1>Loading...</h1>\r\n      ) : (\r\n        <div>\r\n          {/* key는 React.js 에서만 map 안에서 component들을 render할 때 사용하는 것 */}\r\n          {movies.map((movie) => (\r\n            <Movie\r\n              key={movie.id}\r\n              id={movie.id}\r\n              coverImg={movie.medium_cover_image}\r\n              title={movie.title}\r\n              summary={movie.summary}\r\n              genres={movie.genres}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n\r\n// <div>\r\n//   {loading ? (\r\n//     <h1>Loading...</h1>\r\n//   ) : (\r\n//     <div>\r\n//       {movies.map((movie) => (\r\n//         <div key={movie.id}>\r\n//           <img src={movie.medium_cover_image} />\r\n//           <h2>{movie.title}</h2>\r\n//           <p>{movie.summary}</p>\r\n//           <ul>\r\n//             <li>\r\n//               {movie.genres.map((g) => (\r\n//                 <li key={g}>{g}</li>\r\n//               ))}\r\n//             </li>\r\n//           </ul>\r\n//         </div>\r\n//       ))}\r\n//     </div>\r\n//   )}\r\n// </div>\r\n"],"mappings":"qXAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAO,CAAAC,KAAK,KAAM,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAExC,QAAS,CAAAC,IAAIA,CAAA,CAAG,CACd,IAAAC,SAAA,CAA8BN,QAAQ,CAAC,IAAI,CAAC,CAAAO,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAC1B,IAAAI,UAAA,CAA4BX,QAAQ,CAAC,EAAE,CAAC,CAAAY,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAjCE,MAAM,CAAAD,UAAA,IAAEE,SAAS,CAAAF,UAAA,IACxB,GAAM,CAAAG,SAAS,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,IAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SAQR,CAAAC,KAAK,yEAEX,CAAC,QAAAH,QAAA,CAAAE,IAAA,UAAAF,QAAA,CAAAI,IAAA,CACDP,IAAI,UAJAA,IAAI,CAAAG,QAAA,CAAAI,IAAA,CAKVd,SAAS,CAACO,IAAI,CAACQ,IAAI,CAAChB,MAAM,CAAC,CAC3BH,UAAU,CAAC,KAAK,CAAC,CAAC,wBAAAc,QAAA,CAAAM,IAAA,MAAAV,OAAA,GACnB,kBAdK,CAAAL,SAASA,CAAA,SAAAC,IAAA,CAAAe,KAAA,MAAAC,SAAA,OAcd,CACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA/B,SAAS,CAAC,UAAM,CACdc,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,EAAE,CAAC,CACN;AACA,mBACEX,IAAA,QAAA6B,QAAA,CACGxB,OAAO,cACNL,IAAA,OAAA6B,QAAA,CAAI,YAAU,CAAI,CAAC,cAEnB7B,IAAA,QAAA6B,QAAA,CAEGpB,MAAM,CAACqB,GAAG,CAAC,SAACC,KAAK,qBAChB/B,IAAA,CAACF,KAAK,EAEJkC,EAAE,CAAED,KAAK,CAACC,EAAG,CACbC,QAAQ,CAAEF,KAAK,CAACG,kBAAmB,CACnCC,KAAK,CAAEJ,KAAK,CAACI,KAAM,CACnBC,OAAO,CAAEL,KAAK,CAACK,OAAQ,CACvBC,MAAM,CAAEN,KAAK,CAACM,MAAO,EALhBN,KAAK,CAACC,EAMZ,CAAC,EACH,CAAC,CACC,CACN,CACE,CAAC,CAEV,CAEA,cAAe,CAAA/B,IAAI,CAEnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}