export const dummyData = {
  documents: [
    {
      name: 'projects/shop-app-c8539/databases/(default)/documents/users/THNgkjDGiyZOxgxlymHPeNt12lk2',
      fields: {
        email: {
          stringValue: 'kjy.devops@gmail.com',
        },
        cart: {
          arrayValue: {
            values: [
              {
                mapValue: {
                  fields: {
                    image: {
                      stringValue:
                        'https://fakestoreapi.com/img/71YXzeOuslL._AC_UY879_.jpg',
                    },
                    total: {
                      doubleValue: 15.99,
                    },
                    quantity: {
                      integerValue: '1',
                    },
                    price: {
                      doubleValue: 15.99,
                    },
                    rating: {
                      mapValue: {
                        fields: {
                          rate: {
                            doubleValue: 2.1,
                          },
                          count: {
                            integerValue: '430',
                          },
                        },
                      },
                    },
                    description: {
                      stringValue:
                        'The color could be slightly different between on the screen and in practice. / Please note that body builds vary by person, therefore, detailed size information should be reviewed below on the product description.',
                    },
                    id: {
                      integerValue: '4',
                    },
                    title: {
                      stringValue: 'Mens Casual Slim Fit',
                    },
                    category: {
                      stringValue: "men's clothing",
                    },
                  },
                },
              },
              {
                mapValue: {
                  fields: {
                    image: {
                      stringValue:
                        'https://fakestoreapi.com/img/71-3HjGNDUL._AC_SY879._SX._UX._SY._UY_.jpg',
                    },
                    total: {
                      doubleValue: 22.3,
                    },
                    quantity: {
                      integerValue: '1',
                    },
                    price: {
                      doubleValue: 22.3,
                    },
                    rating: {
                      mapValue: {
                        fields: {
                          rate: {
                            doubleValue: 4.1,
                          },
                          count: {
                            integerValue: '259',
                          },
                        },
                      },
                    },
                    description: {
                      stringValue:
                        'Slim-fitting style, contrast raglan long sleeve, three-button henley placket, light weight & soft fabric for breathable and comfortable wearing. And Solid stitched shirts with round neck made for durability and a great fit for casual fashion wear and diehard baseball fans. The Henley style round neckline includes a three-button placket.',
                    },
                    id: {
                      integerValue: '2',
                    },
                    title: {
                      stringValue: 'Mens Casual Premium Slim Fit T-Shirts ',
                    },
                    category: {
                      stringValue: "men's clothing",
                    },
                  },
                },
              },
              {
                mapValue: {
                  fields: {
                    image: {
                      stringValue:
                        'https://fakestoreapi.com/img/71li-ujtlUL._AC_UX679_.jpg',
                    },
                    total: {
                      doubleValue: 55.99,
                    },
                    quantity: {
                      integerValue: '1',
                    },
                    price: {
                      doubleValue: 55.99,
                    },
                    rating: {
                      mapValue: {
                        fields: {
                          rate: {
                            doubleValue: 4.7,
                          },
                          count: {
                            integerValue: '500',
                          },
                        },
                      },
                    },
                    description: {
                      stringValue:
                        'great outerwear jackets for Spring/Autumn/Winter, suitable for many occasions, such as working, hiking, camping, mountain/rock climbing, cycling, traveling or other outdoors. Good gift choice for you or your family member. A warm hearted love to Father, husband or son in this thanksgiving or Christmas Day.',
                    },
                    id: {
                      integerValue: '3',
                    },
                    title: {
                      stringValue: 'Mens Cotton Jacket',
                    },
                    category: {
                      stringValue: "men's clothing",
                    },
                  },
                },
              },
              {
                mapValue: {
                  fields: {
                    image: {
                      stringValue:
                        'https://fakestoreapi.com/img/81fPKd-2AYL._AC_SL1500_.jpg',
                    },
                    total: {
                      doubleValue: 109.95,
                    },
                    quantity: {
                      integerValue: '1',
                    },
                    price: {
                      doubleValue: 109.95,
                    },
                    rating: {
                      mapValue: {
                        fields: {
                          rate: {
                            doubleValue: 3.9,
                          },
                          count: {
                            integerValue: '120',
                          },
                        },
                      },
                    },
                    description: {
                      stringValue:
                        'Your perfect pack for everyday use and walks in the forest. Stash your laptop (up to 15 inches) in the padded sleeve, your everyday',
                    },
                    id: {
                      integerValue: '1',
                    },
                    title: {
                      stringValue:
                        'Fjallraven - Foldsack No. 1 Backpack, Fits 15 Laptops',
                    },
                    category: {
                      stringValue: "men's clothing",
                    },
                  },
                },
              },
            ],
          },
        },
      },
      createTime: '2024-08-11T14:11:25.400141Z',
      updateTime: '2024-08-11T14:11:25.400141Z',
    },
    {
      name: 'projects/shop-app-c8539/databases/(default)/documents/users/UGm6WbMlSXUUoiKRYMcj3yLvT762',
      fields: {
        cart: {
          arrayValue: {
            values: [
              {
                mapValue: {
                  fields: {
                    image: {
                      stringValue:
                        'https://fakestoreapi.com/img/71YXzeOuslL._AC_UY879_.jpg',
                    },
                    total: {
                      doubleValue: 15.99,
                    },
                    quantity: {
                      integerValue: '1',
                    },
                    price: {
                      doubleValue: 15.99,
                    },
                    rating: {
                      mapValue: {
                        fields: {
                          rate: {
                            doubleValue: 2.1,
                          },
                          count: {
                            integerValue: '430',
                          },
                        },
                      },
                    },
                    description: {
                      stringValue:
                        'The color could be slightly different between on the screen and in practice. / Please note that body builds vary by person, therefore, detailed size information should be reviewed below on the product description.',
                    },
                    id: {
                      integerValue: '4',
                    },
                    title: {
                      stringValue: 'Mens Casual Slim Fit',
                    },
                    category: {
                      stringValue: "men's clothing",
                    },
                  },
                },
              },
              {
                mapValue: {
                  fields: {
                    image: {
                      stringValue:
                        'https://fakestoreapi.com/img/71-3HjGNDUL._AC_SY879._SX._UX._SY._UY_.jpg',
                    },
                    total: {
                      doubleValue: 22.3,
                    },
                    quantity: {
                      integerValue: '1',
                    },
                    price: {
                      doubleValue: 22.3,
                    },
                    rating: {
                      mapValue: {
                        fields: {
                          rate: {
                            doubleValue: 4.1,
                          },
                          count: {
                            integerValue: '259',
                          },
                        },
                      },
                    },
                    description: {
                      stringValue:
                        'Slim-fitting style, contrast raglan long sleeve, three-button henley placket, light weight & soft fabric for breathable and comfortable wearing. And Solid stitched shirts with round neck made for durability and a great fit for casual fashion wear and diehard baseball fans. The Henley style round neckline includes a three-button placket.',
                    },
                    id: {
                      integerValue: '2',
                    },
                    title: {
                      stringValue: 'Mens Casual Premium Slim Fit T-Shirts ',
                    },
                    category: {
                      stringValue: "men's clothing",
                    },
                  },
                },
              },
              {
                mapValue: {
                  fields: {
                    image: {
                      stringValue:
                        'https://fakestoreapi.com/img/71li-ujtlUL._AC_UX679_.jpg',
                    },
                    total: {
                      doubleValue: 55.99,
                    },
                    quantity: {
                      integerValue: '1',
                    },
                    price: {
                      doubleValue: 55.99,
                    },
                    rating: {
                      mapValue: {
                        fields: {
                          rate: {
                            doubleValue: 4.7,
                          },
                          count: {
                            integerValue: '500',
                          },
                        },
                      },
                    },
                    description: {
                      stringValue:
                        'great outerwear jackets for Spring/Autumn/Winter, suitable for many occasions, such as working, hiking, camping, mountain/rock climbing, cycling, traveling or other outdoors. Good gift choice for you or your family member. A warm hearted love to Father, husband or son in this thanksgiving or Christmas Day.',
                    },
                    id: {
                      integerValue: '3',
                    },
                    title: {
                      stringValue: 'Mens Cotton Jacket',
                    },
                    category: {
                      stringValue: "men's clothing",
                    },
                  },
                },
              },
              {
                mapValue: {
                  fields: {
                    image: {
                      stringValue:
                        'https://fakestoreapi.com/img/81fPKd-2AYL._AC_SL1500_.jpg',
                    },
                    total: {
                      doubleValue: 109.95,
                    },
                    quantity: {
                      integerValue: '1',
                    },
                    price: {
                      doubleValue: 109.95,
                    },
                    rating: {
                      mapValue: {
                        fields: {
                          rate: {
                            doubleValue: 3.9,
                          },
                          count: {
                            integerValue: '120',
                          },
                        },
                      },
                    },
                    description: {
                      stringValue:
                        'Your perfect pack for everyday use and walks in the forest. Stash your laptop (up to 15 inches) in the padded sleeve, your everyday',
                    },
                    id: {
                      integerValue: '1',
                    },
                    title: {
                      stringValue:
                        'Fjallraven - Foldsack No. 1 Backpack, Fits 15 Laptops',
                    },
                    category: {
                      stringValue: "men's clothing",
                    },
                  },
                },
              },
            ],
          },
        },
        email: {
          stringValue: 'test@gmail.com',
        },
      },
      createTime: '2024-08-11T14:08:41.058318Z',
      updateTime: '2024-08-11T14:23:06.465417Z',
    },
    {
      name: 'projects/shop-app-c8539/databases/(default)/documents/users/cW4ce7eYrlyMAQrA5piu',
      fields: {
        age: {
          integerValue: '30',
        },
        email: {
          stringValue: 'updateTest@example.com',
        },
        name: {
          stringValue: 'John updateTest',
        },
      },
      createTime: '2024-08-12T05:14:08.184015Z',
      updateTime: '2024-08-12T05:24:17.537586Z',
    },
  ],
};

export const parseFirestoreFields = (fields) => {
  const parsed = {};

  Object.keys(fields).forEach((key) => {
    const field = fields[key];
    if (field.stringValue !== undefined) {
      parsed[key] = field.stringValue;
    } else if (field.integerValue !== undefined) {
      parsed[key] = field.integerValue;
    } else if (field.doubleValue !== undefined) {
      parsed[key] = field.doubleValue;
    } else if (field.booleanValue !== undefined) {
      parsed[key] = field.booleanValue;
    } else if (field.timestampValue !== undefined) {
      parsed[key] = new Date(field.timestampValue);
    } else if (field.mapValue !== undefined) {
      parsed[key] = parseFirestoreFields(field.mapValue.fields);
    } else if (field.arrayValue !== undefined) {
      parsed[key] = field.arrayValue.values.map((value) =>
        parseFirestoreFields(value.mapValue.fields || value)
      );
    }
  });

  return parsed;
};

export const toFirestoreFields = (obj) => {
  const fields = {};

  Object.keys(obj).forEach((key) => {
    const value = obj[key];
    if (typeof value === 'string') {
      fields[key] = { stringValue: value };
    } else if (typeof value === 'number') {
      if (Number.isInteger(value)) {
        fields[key] = { integerValue: value };
      } else {
        fields[key] = { doubleValue: value };
      }
    } else if (typeof value === 'boolean') {
      fields[key] = { booleanValue: value };
    } else if (value instanceof Date) {
      fields[key] = { timestampValue: value.toISOString() };
    } else if (Array.isArray(value)) {
      fields[key] = {
        arrayValue: {
          values: value.map((v) => toFirestoreFields({ temp: v }).temp),
        },
      };
    } else if (typeof value === 'object') {
      fields[key] = { mapValue: { fields: toFirestoreFields(value) } };
    }
  });

  return fields;
};
